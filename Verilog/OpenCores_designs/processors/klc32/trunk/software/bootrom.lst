                  	           		KEYBD		EQU		$FFDC0000
                  	           		KEYBDSTAT	EQU		$FFDC0002
                  	           		
FFFF0000	           			ORG	$FFFF0000
                  	           		
FFFF0000	24018000			ORI 	R1,R0,#$FFD00000
FFFF0004	FFD00000	
FFFF0008	24020005			ORI 	R2,R0,#5
FFFF000C	24030020			ORI 	R3,R0,#32
FFFF0010	EC221800			PUSH	R1/R2/R3
FFFF0014	57FF0060			JSR		$FFFF0060
FFFF0018	D4620800			POP		R3/R2/R1
FFFF001C	00000035			STOP
                  	           		
FFFF0060	           			ORG $FFFF0060
FFFF0060	DBDE0018			LINK	R30,#24
FFFF0064	24018000			ORI 	R1,R0,#$FFD00000
FFFF0068	FFD00000	
FFFF006C	24020005			ORI 	R2,R0,#5
FFFF0070	24030020			ORI 	R3,R0,#32
FFFF0074	           		J1:
FFFF0074	E4230000			SH		R3,0(R1)
FFFF0078	10210002			ADDI	R1,R1,#2
FFFF007C	14420001			SUBI	R2,R2,#1
FFFF0080	4006FFF0			BNE		CR0,J1
FFFF0084	07DE0018			UNLK	R30
FFFF0088	00000022			RTS		#0,#0
                  	           		
FFFF008C	           		CheckForKey:
FFFF008C	C8018000			LB		R1,KEYBD
FFFF0090	FFDC0000	
FFFF0094	480B0800			SMI		CR0,R1
FFFF0098	00000022			RTS
                  	           		
FFFF009C	           		GetKey:
FFFF009C	C8018000			LB		R1,KEYBD
FFFF00A0	FFDC0000	
FFFF00A4	C8008000			LB		R0,KEYBDSTAT	; clear keyboard strobe
FFFF00A8	FFDC0002	
FFFF00AC	00000022			RTS
                  	           		
                  	           		
