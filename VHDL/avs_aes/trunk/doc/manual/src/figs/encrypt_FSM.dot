digraph sample{
"START"[shape=point,pos="1,0"];
"WAIT_KEY";
"WAIT_DATA";
"INITIAL_ROUND";
"DO_ROUND";
"FINAL_ROUND";
"DONE";
START->WAIT_KEY;
WAIT_KEY->"WAIT_DATA"[label="key_ready=1"];
"WAIT_DATA"->"WAIT_KEY"[label="key_stable=0"];
"WAIT_DATA"->"INITIAL_ROUND"[label="data_stable=1"];
"INITIAL_ROUND"->"DO_ROUND"[weight=20];
"INITIAL_ROUND"->"WAIT_KEY"[label="key_stable=0"];
"DO_ROUND"->"FINAL_ROUND"[label="i=NO_ROUNDS"];
"DO_ROUND"->"WAIT_KEY"[label="key_stable=0"];
"DO_ROUND"->"DO_ROUND"[label="i<NO_ROUNDS"];
"FINAL_ROUND"->"WAIT_KEY"[label="key_stable=0"];
"FINAL_ROUND"->"DONE";
"DONE"->"WAIT_DATA"[label="key_stable=0",weight=80];
}